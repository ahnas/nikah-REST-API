{% extends 'web/base.html' %}
{% load static %}
{% block title %}Delete Account{% endblock %}

{% block content %}



{% include "web/partials/header2.html" %}
<section class="explore pb-0">
    <div class="container">
        <div class="row exx mb-4 text-center">

            <div class="col-12">
                <p>Delete Account Permently</p>
            </div>
        </div>

    </div>
</section>


<div class="container">
    <div class="row text-center">

    
<div class="col-12 reli mb-4">
    <div class="prremm viewp mt-4">

        <h2 class="mb-0" style="color: #1C57C9;">Are You Realy Want to Delete Account!</h2>

        <div id="premiumfeatures" class="mt-1">
            <p style="color: black;"></p>
            <p class="text-center" style="color: black;">This action will lead to the permanent removal of your matrimonial account, still want to proceed?</p>
            <div class="col-12 text-center"><button class="btn" id="btnDelete" type="button" >Delete Account</button></div>
        </div>
    </div>
</div>

</div>
</div>



{% include "web/partials/mobilefooter.html" %}


{% endblock %}
{% block javascript %}

<link data-require="sweet-alert@*" data-semver="0.4.2" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css" />
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>


<script src="{% static 'web/js/profiledetails.js' %}"></script>
<script src="{% static 'web/js/loadheader.js' %}"></script>
<script src="{% static 'web/js/profileselect.js' %}"></script>
<script src="{% static 'web/js/header.js' %}"></script>
<script>

    $("#btnDelete").click(function(){
        swal("Are You Sure!", {
        buttons: {
            cancel: "Cancel!",
            catch: {
            text: "Yes Confirm",
            value: "catch",
            },          
        },
        })
        .then((value) => {
        switch (value) {
            case "catch":  
            $.ajax({
                url: "http://127.0.0.1:8000/api/user/delete/",
                type: 'DELETE',
                beforeSend: function (xhr) { xhr.setRequestHeader('Authorization', 'Token ' + localStorage.getItem('token')); },
                success: function (response) {
                    window.location="/"
                }
            });
            swal("Deleted!", "Successfully", "success");
            break;      
            default:
            swal("Got away safely!");
        }
        });
    })

</script>

{% endblock %}